{"version":3,"file":"main.js","mappings":"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","sources":["webpack://gulp-builder/./src/js/_components.js","webpack://gulp-builder/./src/js/components/cart.js","webpack://gulp-builder/./src/js/components/remove-preload.js","webpack://gulp-builder/webpack/bootstrap","webpack://gulp-builder/webpack/runtime/make namespace object","webpack://gulp-builder/./src/js/main.js"],"sourcesContent":["import \"./components/remove-preload.js\";\nimport \"./components/cart.js\";\n","document.addEventListener(\"DOMContentLoaded\", () => {\n  const btnsToCart = document.querySelectorAll(\".add-to-cart\");\n  const btnsInCart = document.querySelectorAll(\".remove-from-cart\");\n\n  btnsToCart.forEach((btn) => {\n    btn.addEventListener(\"click\", (e) => {\n      let id = btn.getAttribute(\"data-product_id\");\n      let quantity = btn.getAttribute(\"data-quantity\");\n      btn.classList.add(\"in-cart\");\n\n      btn.nextElementSibling.classList.add(\"show\");\n\n      addToCart(id, quantity);\n    });\n  });\n\n  btnsInCart.forEach((btn) => {\n    btn.addEventListener(\"click\", (e) => {\n      let id = btn.getAttribute(\"data-product_id\");\n      btn.classList.remove(\"show\");\n      btn.previousElementSibling.removeAttribute(\"href\");\n      btn.previousElementSibling.classList.remove(\"in-cart\");\n\n      removeProductFromCart(id);\n    });\n  });\n\n  async function addToCart(id, quantity) {\n    const _domain = window.location.origin;\n\n    const response = await fetch(`${_domain}/wp-admin/admin-ajax.php`, {\n      method: \"post\",\n      headers: new Headers({\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      }),\n      body: `action=addProductToCart&id=${id}&quantity=${quantity}`,\n    });\n\n    const data = await response.json();\n\n    if (data) {\n      setCountInCart(+data);\n    }\n  }\n\n  async function removeProductFromCart(id) {\n    const _domain = window.location.origin;\n\n    const response = await fetch(`${_domain}/wp-admin/admin-ajax.php`, {\n      method: \"post\",\n      headers: new Headers({\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n      }),\n      body: `action=removeProductFromCart&id=${id}`,\n    });\n\n    const data = await response.json();\n\n    if (data) {\n      setCountInCart(+data);\n    }\n  }\n});\n\nfunction setCountInCart(result) {\n  const cart = document.querySelector(\".header__cart\");\n  const cartCount = cart.querySelector(\"span\");\n\n  checkCart(result, cartCount);\n\n  if (cart && cartCount) {\n    cartCount.textContent = result;\n  } else {\n    cart.innerHTML = `\n        <span>${result}</span>\n        `;\n  }\n}\n\nfunction checkCart(data, cart) {\n  if (data == 0) {\n    cart.classList.add(\"hide\");\n  } else {\n    if (cart) cart.classList.remove(\"hide\");\n  }\n}\n","window.addEventListener(\"load\", () => {\r\n  document.body.classList.remove(\"preload\");\r\n});\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './_components.js';\r\n"],"names":["document","addEventListener","btnsToCart","querySelectorAll","btnsInCart","forEach","btn","e","id","getAttribute","quantity","classList","add","nextElementSibling","addToCart","remove","previousElementSibling","removeAttribute","removeProductFromCart","_domain","window","location","origin","response","fetch","method","headers","Headers","body","data","json","setCountInCart","result","cart","querySelector","cartCount","checkCart","textContent","innerHTML"],"sourceRoot":""}